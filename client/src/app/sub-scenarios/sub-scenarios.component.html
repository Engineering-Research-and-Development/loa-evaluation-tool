<!-- Modal 1 -->
<div class="modal fade" id="productInfo" tabindex="-1" role="dialog"  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" >Product planing</h5>
      </div>
      <div class="modal-body">
        <div>Number of produced pieces per hour: <input type="number" id="nprodPiecePerHours" [(ngModel)]="nprodPiecePerHours" min="0" value="nprodPiecePerHours"> </div> <br>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="productInfo()">Save changes</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal 2 -->
<div class="modal fade" id="addProcessInfo" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" >Add process specific information</h5>
      </div>
      <div class="modal-body">
        <div>Number of shifts per day: <input type="number" [(ngModel)]="procSpecInfoObj.nshiptsDay"  name="nshiptsDay" class="float-right" min="0" value="procSpecInfoObj?.nshiptsDay"></div> <br>
        <div>Hours per shift: <input type="number"  [(ngModel)]="procSpecInfoObj.hoursShift" name="hoursShift" class="float-right" min="0" value="procSpecInfoObj?.hoursShift"></div> <br>
        <div>Working days per year: <input type="number" [(ngModel)]="procSpecInfoObj.workingDaysYear" name="workingDaysYear" class="float-right" min="0" value="procSpecInfoObj?.workingDaysYear"></div> <br>
        <div>Proportional wage costs per hour: <input type="number" [(ngModel)]="procSpecInfoObj.propWCPerHours" name="propWCPerHours" class="float-right" min="0" value="procSpecInfoObj?.propWCPerHours"></div> <br>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="procSpecInfo()" >Save changes</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal 3 -->
<div class="modal fade bd-example-modal-lg" id="createSubScenario" tabindex="-1" role="dialog" aria-hidden="true" >
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document" style="width: 900px;">
    <div class="modal-content" style="width: 900px;">
      <div class="modal-header" >
        <h5 class="modal-title" id="exampleModalCenterTitle">Create sub-scenario</h5>
      </div>
      <div class="modal-body">
        <table class="table table-striped">
          <caption style="caption-side: top;">Best physical LoA range 4-5</caption>
          <thead>
            <th></th>
            <th>Scenario 1</th>
            <th>Scenario 2</th>
            <th>Scenario 3</th>
          </thead>
          <tbody>
            <tr>
              <td>Select resource</td>
              <td>
                <select [(ngModel)]="selectedRes1" (ngModelChange)="firstDropDownChanged($event)">
                  <option *ngFor="let res1 of resources" [value]="res1.name">{{res1.name}}</option>
                </select>
              </td>
              <td>
                <select [(ngModel)]="selectedRes2" (ngModelChange)="secondDropDownChanged($event)">
                  <option *ngFor="let res2 of resources" [value]="res2.name">{{res2.name}}</option>
                </select>
              </td>
              <td>
                <select [(ngModel)]="selectedRes3" (ngModelChange)="thirdDropDownChanged($event)">
                  <option *ngFor="let res3 of resources" [value]="res3.name">{{res3.name}}</option>
                </select>
            </tr>
            <tr>
              <td>Physical LoA</td>
              <td>{{firstdropdown?.loaPhysical}}</td>
              <td>{{seconddropdown?.loaPhysical}}</td>
              <td>{{thirddropdown?.loaPhysical}}</td>
            </tr>
            <tr>
              <td>Cognitive LoA</td>
              <td>{{firstdropdown?.loaCognitive}}</td>
              <td>{{seconddropdown?.loaCognitive}}</td>
              <td>{{thirddropdown?.loaCognitive}}</td>
            </tr>
            <tr>
              <td>Process time</td>
              <td><input type="number" [(ngModel)]="selRes1ProcTime"  id="selRes1ProcTime" min="1" max="7" ></td>
              <td><input type="number" [(ngModel)]="selRes2ProcTime"  id="selRes2ProcTime" min="1" max="7" ></td>
              <td><input type="number" [(ngModel)]="selRes3ProcTime"  id="selRes3ProcTime" min="1" max="7" ></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="createSubScenarios()">Save changes</button>
      </div>
    </div>
  </div>
</div>


<div>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/process-list"> Process list </a></li>
        <li class="breadcrumb-item"><a routerLink="/main-analysis"> Main analysis </a></li>
        <li class="breadcrumb-item active" aria-current="page"> Sub-Scenarios Resource analysis </li>
      </ol>
    </nav>

  <table id="table1" >
    <tr>
      <td>Main process:</td>
      <!--<td style="border-right: 1px solid">{{mainProcess?.name}}</td>-->
      <td style="border-right: 1px solid">{{cookie.mainProcessName}}</td>
      <td>Sub process level 1: {{cookie?.level1?.name}}</td>
      <td>Sub process level 2: {{cookie?.level2?.name}}</td>
    </tr>
    <tr>
      <td>Level of sub processes: </td>
      <td style="border-right: 1px solid"> {{cookie?.subLevels}}</td>
      <td>Sub process level 3:  {{cookie?.level3?.name}}</td>
      <td></td>
    </tr>
  </table>

  <div class="row linkovi text-center" >
    <span class="col-4">
      <a href="#" role="button"  data-toggle="modal" data-target="#productInfo">Product info</a>
    </span>
    <span class="col-4">
      <a href="#" role="button" data-toggle="modal" data-target="#addProcessInfo">Add process specific information</a>
    </span>
    <span class="col-4">
      <a href="#" role="button" data-toggle="modal" data-target="#createSubScenario">Create Sub-scenarios</a>
    </span>
  </div>

  <h1 class="text-center">Sub Scenario Matrix</h1>

  <table class="table table-bordered text-center table-striped">
    <thead>
      <th></th>
      <th>Name</th>
      <th>Unit</th>
      <th>Scenario 1 </th>
      <th>Scenario 2 </th>
      <th>Scenario 3 </th>
    </thead>
    <tbody>
    <tr>
      <td class="roto  align-middle"></td>
      <td><strong>Resource name</strong></td>
      <td>-</td>
      <td>{{scenario1.resourceName}}</td>
      <td>{{scenario2.resourceName}}</td>
      <td>{{scenario3.resourceName}}</td>
    </tr>
     <tr>
        <td class="roto  align-middle">Process <br> variables</td>
        <td>
          LoA physical <br>
          LoA cognitive <br>
          Process time
        </td>
        <td>
          - <br>
          - <br>
          s
        </td>
        <td>
          {{scenario1.loaPhysical}} <br>
          {{scenario1.loaCognitive}} <br>
          {{scenario1.processTime}}
        </td>
        <td>
          {{scenario2.loaPhysical}}<br>
          {{scenario2.loaCognitive}}<br>
          {{scenario2.processTime}}
        </td>
        <td>
          {{scenario3.loaPhysical}} <br>
          {{scenario3.loaCognitive}} <br>
          {{scenario3.processTime}}
        </td>
      </tr>
      <tr>
        <td class="roto  align-middle" rowspan="2">Working <br> hours</td>
        <td>
          Number of shifts per day <br>
          Hours per shift <br>
          Working days per year
        </td>
        <td>
          - <br>
          h <br>
          d <br>
        </td>
        <td>
          {{scenario1.numberShiftsPerDay}} <br>
          {{scenario1.hoursPerShift}}<br>
          {{scenario1.workingDaysPerYear}}
        </td>
        <td>
          {{scenario2.numberShiftsPerDay}} <br>
          {{scenario2.hoursPerShift}}<br>
          {{scenario2.workingDaysPerYear}}
        </td>
        <td>
          {{scenario3.numberShiftsPerDay}} <br>
          {{scenario3.hoursPerShift}}<br>
          {{scenario3.workingDaysPerYear}}
        </td>
      </tr>
      <tr>
        <td>Hours per year</td>
        <td>h</td>
        <td>{{scenario1.hoursPerYear}}</td>
        <td>{{scenario2.hoursPerYear}}</td>
        <td>{{scenario3.hoursPerYear}}</td>
      </tr>
      <tr>
        <td class="roto  align-middle" rowspan="2">Prod.</td>
        <td>Number of produced pieces</td>
        <td>units/h</td>
        <td>{{scenario1?.numProducedPiecesHour}}</td>
        <td>{{scenario2?.numProducedPiecesHour}}</td>
        <td>{{scenario3?.numProducedPiecesHour}}</td>
      </tr>
      <tr>
        <td>Number of produced pieces</td>
        <td>units/year</td>
        <td>{{scenario1.numProducedPiecesYear}}</td>
        <td>{{scenario2.numProducedPiecesYear}}</td>
        <td>{{scenario3.numProducedPiecesYear}}</td>
      </tr>
      <tr>
        <td class="roto  align-middle" rowspan="6">Variable costs</td>
        <td>
          Proportional wage costs per hour <br>
          Number of operations per machine <br>
          Ratio of participation per hour
        </td>
        <td>
          l/h<br>
          -<br>
          l/h
        </td>
        <td>
          {{scenario1.propWageCostsPerHour}}<br>
          {{scenario1.numberOperationsPerMachine}}<br>
          {{scenario1.ratioOfParticipPerHour}}
        </td>
        <td>
          {{scenario2.propWageCostsPerHour}}<br>
          {{scenario2.numberOperationsPerMachine}}<br>
          {{scenario2.ratioOfParticipPerHour}}
        </td>
        <td>
         {{scenario3.propWageCostsPerHour}} <br>
         {{scenario3.numberOperationsPerMachine}} <br>
         {{scenario3.ratioOfParticipPerHour}}
        </td>
      </tr>
      <tr>
        <td>Labour costs</td>
        <td>l/units</td>
        <td>{{scenario1.labourCosts}}</td>
        <td>{{scenario2.labourCosts}}</td>
        <td>{{scenario3.labourCosts}}</td>
      </tr>
      <tr>
        <td>
          Electricity consumption <br>
          Electricity consumption - standby <br>
          Electricity price
        </td>
        <td>
          kWh<br>
          kWh<br>
          l/kWh
        </td>
        <td>
          {{scenario1.electrConsumption}}<br>
          {{scenario1.electrConsumptionStandby}}<br>
          {{scenario1.electrPrice}}
        </td>
        <td>
          {{scenario2.electrConsumption}}<br>
          {{scenario2.electrConsumptionStandby}}<br>
          {{scenario2.electrPrice}}
        </td>
        <td>
          {{scenario3.electrConsumption}}<br>
          {{scenario3.electrConsumptionStandby}}<br>
          {{scenario3.electrPrice}}
        </td>
      </tr>
      <tr>
        <td>Energy costs</td>
        <td>l/units</td>
        <td>{{scenario1.energyCosts}}</td>
        <td>{{scenario2.energyCosts}}</td>
        <td>{{scenario3.energyCosts}}</td>
      </tr>
      <tr>
        <td>
          Annual maintenance costs (direct entry) <br>
          Annual maintenance costs (estimate)
        </td>
        <td>
          l/a<br>
          %
        </td>
        <td>
          {{scenario1.annualMaintenanceCostsDirect}}<br>
          {{scenario1.annualMaintenanceCostsEstimate}}
        </td>
        <td>
          {{scenario2.annualMaintenanceCostsDirect}}  <br>
          {{scenario2.annualMaintenanceCostsEstimate}}
        </td>
        <td>
          {{scenario3.annualMaintenanceCostsDirect}}  <br>
          {{scenario3.annualMaintenanceCostsEstimate}}  </td>
      </tr>
      <tr>
        <td>Maintenance costs</td>
        <td>l/a</td>
        <td>{{scenario1.maintenanceCosts}}</td>
        <td>{{scenario2.maintenanceCosts}}</td>
        <td>{{scenario3.maintenanceCosts}}</td>
      </tr>
      <tr>
        <td rowspan="6" class="roto align-middle">Fixed Costs</td>
        <td>
          Installation surface <br>
          Costs per m<sup>3</sup> per month
        </td>
        <td>
          m<sup>3</sup> <br>
          l/m<sup>3</sup>
        </td>
        <td>
          {{scenario1.installSurface}}  <br>
          {{scenario1.costsM3PerMonth}}
        </td>
        <td>
          {{scenario2.installSurface}} <br>
          {{scenario2.costsM3PerMonth}}
        </td>
        <td>
          {{scenario3.installSurface}}<br>
          {{scenario3.costsM3PerMonth}}
        </td>
      </tr>
      <tr>
        <td>Annual space costs</td>
        <td>l/a</td>
        <td>{{scenario1.annualSpaceCosts}}</td>
        <td>{{scenario2.annualSpaceCosts}}</td>
        <td>{{scenario3.annualSpaceCosts}}</td>
      </tr>
      <tr>
        <td>
          Machine purchase value <br>
          Machine sales value <br>
          Economic useful life
        </td>
        <td>
          l<br>
          l<br>
          a
        </td>
        <td>
        {{scenario1.machinePurchase}} <br>
        {{scenario1.machineSales}} <br>
        {{scenario1.economicUsefulLife}}
        </td>
        <td>
         {{scenario2.machinePurchase}}  <br>
         {{scenario2.machineSales}} <br>
         {{scenario2.economicUsefulLife}}
        </td>
        <td>
        {{scenario3.machinePurchase}}  <br>
        {{scenario3.machineSales}}   <br>
        {{scenario3.economicUsefulLife}}
        </td>
      </tr>
      <tr>
        <td>Imputed deprecation</td>
        <td>l/a</td>
        <td>{{scenario1.imputedDeprecation}}</td>
        <td>{{scenario2.imputedDeprecation}}</td>
        <td>{{scenario3.imputedDeprecation}}</td>
      </tr>
      <tr>
        <td>
          Machine purchase value <br>
          Machine sales value <br>
          Interest rate
        </td>
        <td>
          l<br>
          l<br>
          %
        </td>
        <td>
          {{scenario1.machinePurchase}} <br>
          {{scenario1.machineSales}} <br>
          {{scenario1.interestRate}}
        </td>
        <td>
          {{scenario2.machinePurchase}}<br>
          {{scenario2.machineSales}} <br>
          {{scenario2.interestRate}}
        </td>
        <td>
          {{scenario3.machinePurchase}}  <br>
          {{scenario3.machineSales}} <br>
          {{scenario3.interestRate}}
        </td>
      </tr>
      <tr>
        <td>Accrued interest costs</td>
        <td>l/a</td>
        <td>{{scenario1.accruedInterestCosts}}</td>
        <td>{{scenario2.accruedInterestCosts}}</td>
        <td>{{scenario3.accruedInterestCosts}}</td>
      </tr>
      <tr>
        <td></td>
        <td>
          Variable costs total<br>
          Fixed costs total
        </td>
        <td>
          l/units<br>
          l/units
        </td>
        <td>
          {{scenario1.variableCostsTotal}}<br>
          {{scenario1.fixedCostsTotal}}
        </td>
        <td>
          {{scenario2.variableCostsTotal}}<br>
          {{scenario2.fixedCostsTotal}}
        </td>
        <td>
          {{scenario3.variableCostsTotal}} <br>
          {{scenario3.fixedCostsTotal}}
        </td>
      </tr>
      <tr>
        <td colspan="2">
          Assembly costs per piece<br>
          Assembly costs (total)
        </td>
        <td>
          l/units<br>
          l/year
        </td>
        <td>
          {{scenario1.assemblyCostsPerPiece}} <br>
          {{scenario1.assemblyCostsTotal}}
        </td>
        <td>
          {{scenario2.assemblyCostsPerPiece}}<br>
          {{scenario2.assemblyCostsTotal}}
        </td>
        <td>
          {{scenario3.assemblyCostsPerPiece}}<br>
          {{scenario3.assemblyCostsTotal}}
        </td>
      </tr>
    </tbody>
  </table>

  <div  *ngIf="disableButton" class="btn-group d-flex justify-content-center">
    <button class="btn btn-primary" (click)="cancelScenariosValues()">Cancel</button>
    <button class="btn btn-secondary" (click)="saveSubscenarios()">Save</button>
  </div>

  <fieldset>
    <legend>User Satisfaction Information</legend>
    <div class="d-flex align-items-center">
      <span>LoA Information</span>
      <table class="table table-bordered table-striped">
        <thead class="thead-light">
          <th>Name</th>
          <th>Unit</th>
          <th>Scenario 1</th>
          <th>Scenario 2</th>
          <th>Scenario 3</th>
        </thead>
        <tbody>
          <tr>
            <td>Best LoA</td>
            <td>-</td>
            <td>{{selectedRes1}}</td>
            <td>{{selectedRes2}}</td>
            <td>{{selectedRes3}}</td>
          </tr>
          <tr>
            <td>Best LoA physical</td>
            <td>-</td>
            <td><input type="number" [(ngModel)]="bestLoaPhy.bestP1" name="bestP1" min="1" max="7" value="1"></td>
            <td><input type="number" [(ngModel)]="bestLoaPhy.bestP2" name="bestP2" min="1" max="7" value="2"></td>
            <td><input type="number" [(ngModel)]="bestLoaPhy.bestP3" name="bestP3" min="1" max="7" value="2"></td>
          </tr>
          <tr>
            <td>Best LoA cognitive</td>
            <td>-</td>
            <td><input type="number" [(ngModel)]="bestLoaCog.bestC1" name="bestC1" min="1" max="7" value="2" ></td>
            <td><input type="number" [(ngModel)]="bestLoaCog.bestC2" name="bestC2" min="1" max="7" value="3" ></td>
            <td><input type="number" [(ngModel)]="bestLoaCog.bestC3" name="bestC3" min="1" max="7" value="1"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <span *ngIf="disableButton" class="btn-group d-flex justify-content-center">
      <button class="btn btn-primary">Cancel</button>
      <button class="btn btn-secondary">Save LoA</button>
    </span>
  </fieldset>
</div>
