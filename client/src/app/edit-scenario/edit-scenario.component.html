<nav aria-label="breadcrumb ">
  <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/process-list"> Process list </a></li>
      <li class="breadcrumb-item"><a routerLink="/main-analysis"> Main analysis Functionalities</a></li>
      <li class="breadcrumb-item"> <a routerLink="/scenarios"> Scenario Resource Analysis </a> </li>
      <li class="breadcrumb-item active" aria-current="page"> Edit Scenario </li>
    </ol>
  </nav>

  <table id="table1" cellpadding="10">
      <tr>
        <td>Main process:</td>
        <td style="border-right: 1px solid">{{cookie.mainProcessName}}</td>
        <td>Scenario number:</td>
        <td>{{id}}</td>
      </tr>
      <tr>
        <td>Number of lower level sub-processes:</td>
        <td style="border-right: 1px solid">{{cookie.nLowerLevelSubProcs}}</td>
        <td></td>
        <td></td>
      </tr>
    </table>

    <table class="table">
      <caption style="caption-side: top; text-align: center; font-size: 30px; color:black;"><h1>Edit Scenario</h1></caption>
      <thead>
        <th> Sub Process Name: </th>
        <th> Sub Scenarios: </th>
        <th> Optional Cost: </th>
        <th> Physical LoA: </th>
        <th> Cognitive LoA: </th>
      </thead>
      <tbody>
        <tr *ngFor="let subScen of subSceList; let i = index">
          <td>{{subScen?.subProc?.subprocessLevel.name}}</td>
          <td>
            SC1 <input *ngIf="subScen?.objList?.scenNumber1?.resource.name && subScen?.objList?.scenNumber1?.resSorting" type="radio" [(ngModel)]="stepResult[i]" name={{subScen?.objList?.scenNumber1?.resource.name+i}} id={{subScen?.objList?.scenNumber1?.resource.name+i}} value="{{subScen?.objList?.scenNumber1?.assemblyCosts}}-{{i}}-0"><span style="display:inline-block; width: 15px;"></span>{{subScen?.objList?.scenNumber1?.resource.name}}<br>
            SC2 <input *ngIf="subScen?.objList?.scenNumber2?.resource.name && subScen?.objList?.scenNumber2?.resSorting" type="radio" [(ngModel)]="stepResult[i]" name={{subScen?.objList?.scenNumber2?.resource.name+i}} id={{subScen?.objList?.scenNumber2?.resource.name+i}} value="{{subScen?.objList?.scenNumber2?.assemblyCosts}}-{{i}}-1"><span style="display:inline-block; width: 15px;"></span>{{subScen?.objList?.scenNumber2?.resource.name}}<br>
            SC3 <input *ngIf="subScen?.objList?.scenNumber3?.resource.name && subScen?.objList?.scenNumber3?.resSorting" type="radio" [(ngModel)]="stepResult[i]" name={{subScen?.objList?.scenNumber3?.resource.name+i}} id={{subScen?.objList?.scenNumber3?.resource.name+i}} value="{{subScen?.objList?.scenNumber3?.assemblyCosts}}-{{i}}-2"><span style="display:inline-block; width: 15px;"></span>{{subScen?.objList?.scenNumber3?.resource.name}}<br>
          </td>
          <td align="center">
            <br>
            {{showedList[i]?.optC}}<br>
          </td>
          <td align="center">
            <br>
            {{showedList[i]?.phy}}<br>
          </td>
          <td align="center">
            <br>
            {{showedList[i]?.cog}}<br>
          </td>
        </tr>

        <tr *ngFor="let procMissing of allProcessSegmentCAM">
          <td>{{procMissing}}</td>
          <td>
            SC1 <br>
            SC2 <br>
            SC3
          </td>
          <td align="center"> <br> 0 <br> </td>
          <td align="center"> <br> 0 <br> </td>
          <td align="center"> <br> 0 <br> </td>
        </tr>

        <tr>
          <td></td>
          <td align="center"> Total Cost: </td>
          <td align="center"> {{TotalCost}} </td>
          <td align="center"> Physical LoA: </td>
          <td align="center"> {{phyLoaTotal}} </td>
        </tr>
        <tr>
          <td></td>
          <td align="center"> Cost per Piece: </td>
          <td align="center"> {{CostperPiece}} </td>
          <td align="center"> Cognitive LoA: </td>
          <td align="center"> {{cogLoaTotal}} </td>
        </tr>
      </tbody>
    </table>

    <ng-template [ngIf]="syncingWithVAR">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      <br>
    </ng-template>

  <div class="btn-group d-flex justify-content-center border-top" style="padding-top: 15px; margin-bottom: 20px;">
    <button class="btn btn-primary" (click)="cancel()"> Cancel </button>
    <button cancel="btn btn-secondary" (click)="calculate()" data-toggle="modal" data-target="#calcModal"> Calculate </button>
    <ng-container *ngIf="enableSave">  <button cancel="btn btn-secondary" (click)="save()" data-toggle="modal" data-target="#addModal"> Save </button></ng-container>
  </div>
  <!-- addModal -->
  <div class="modal fade" id="addModal" tabindex="-1" role="dialog"  aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addModalLabel">
                <p class="text-success" *ngIf="opSuc">Successful</p>
                <p class="text-danger" *ngIf="!opSuc">Error</p>
            </h5>
          </div>
          <div class="modal-body">
              <span *ngIf="opSuc">Scenarios added.</span>
              <span *ngIf="!opSuc">Something went wrong. Status: {{ status }}</span>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="away()" >OK</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="calcModal" tabindex="-1" role="dialog"  aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="calcModalLabel">
                  <p class="text-success" *ngIf="enableSave">Successful</p>
                  <p class="text-danger" *ngIf="!enableSave">Error</p>
              </h5>
            </div>
            <div class="modal-body">
                <span *ngIf="enableSave">Scenarios calculated.</span>
                <span *ngIf="!enableSave">You have to select at least one sub-scenario to enable the calculate</span>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal" >OK</button>
            </div>
          </div>
        </div>
      </div>
