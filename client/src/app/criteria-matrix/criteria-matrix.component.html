<div>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
      <li class="breadcrumb-item"><a routerLink="/main-analysis/">Main analysis functionalities</a></li>
      <li class="breadcrumb-item active">Cognitive criteria matrix</li>
    </ol>
  </nav>
<table id="table1" >
  <tr>
    <td>Main process:</td>
    <td style="border-right: 1px solid" class="shorten" data-toggle="tooltip" data-placement="top" title="{{selectedSubprocess?.mainProcessName}}">
      {{selectedSubprocess?.mainProcessName}}
    </td>
    <td class="shorten" data-toggle="tooltip" data-placement="top" title="{{selectedSubprocess?.level1?.name}}">
      Sub process level 1: {{selectedSubprocess?.level1?.name}}
    </td>
    <td class="shorten"  data-toggle="tooltip" data-placement="top" title="{{selectedSubprocess?.level2?.name}}">
      Sub process level 2: {{selectedSubprocess?.level2?.name}}
    </td>
  </tr>
  <tr>
    <td>Level of sub processes:</td>
    <td style="border-right: 1px solid" class="shorten">{{selectedSubprocess?.subLevels}}</td>
    <td class="shorten">Sub process level 3: {{selectedSubprocess?.level3?.name}}</td>
    <td></td>
  </tr>
</table>

<h1 class="text-center">Cognitive Criteria Matrix</h1>

<table id="table2"  class="table table-bordered text-center">
  <thead class="thead-light">
    <th>Criteria</th>
    <th colspan="4">Direction of increasing benefit <-------------------------------------------------------------------</th>
  </thead>
  <tbody>
    <tr>
      <td> <strong>Task complexity</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.tcH"
        (click)="
          criteriaMatrixBody.tcH = 1;
          criteriaMatrixBody.tcM = 0;
          criteriaMatrixBody.tcL = 0;
          criteriaMatrixBody.tcN = 0;
          updateMatrix();
        "
      >
        high
      </td>
      <td
        [class.on]="criteriaMatrixBody.tcM"
        (click)="
          criteriaMatrixBody.tcH = 0;
          criteriaMatrixBody.tcM = 1;
          criteriaMatrixBody.tcL = 0;
          criteriaMatrixBody.tcN = 0;
          updateMatrix();
        "
      >
        medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.tcL"
        (click)="
          criteriaMatrixBody.tcH = 0;
          criteriaMatrixBody.tcM = 0;
          criteriaMatrixBody.tcL = 1;
          criteriaMatrixBody.tcN = 0;
          updateMatrix();
        "
      >
        low
      </td>
      <td
        [class.on]="criteriaMatrixBody.tcN"
        (click)="
          criteriaMatrixBody.tcH = 0;
          criteriaMatrixBody.tcM = 0;
          criteriaMatrixBody.tcL = 0;
          criteriaMatrixBody.tcN = 1;
          updateMatrix();
        "
      >
        none
      </td>
    </tr>
    <tr>
      <td> <strong>Regularity of exercise</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.reN"
        (click)="
          criteriaMatrixBody.reN = 1;
          criteriaMatrixBody.reL = 0;
          criteriaMatrixBody.reM = 0;
          criteriaMatrixBody.reH = 0;
          updateMatrix();
        "
      >
        none
      </td>
      <td
        [class.on]="criteriaMatrixBody.reL"
        (click)="
          criteriaMatrixBody.reN = 0;
          criteriaMatrixBody.reL = 1;
          criteriaMatrixBody.reM = 0;
          criteriaMatrixBody.reH = 0;
          updateMatrix();
        "
      >
        low
      </td>
      <td
        [class.on]="criteriaMatrixBody.reM"
        (click)="
          criteriaMatrixBody.reN = 0;
          criteriaMatrixBody.reL = 0;
          criteriaMatrixBody.reM = 1;
          criteriaMatrixBody.reH = 0;
          updateMatrix();
        "
      >
        medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.reH"
        (click)="
          criteriaMatrixBody.reN = 0;
          criteriaMatrixBody.reL = 0;
          criteriaMatrixBody.reM = 0;
          criteriaMatrixBody.reH = 1;
          updateMatrix();
        "
      >
        high
      </td>
    </tr>
    <tr>
      <td> <strong>Frequency of task change</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.fcH"
        (click)="
          criteriaMatrixBody.fcH = 1;
          criteriaMatrixBody.fcM = 0;
          criteriaMatrixBody.fcL = 0;
          criteriaMatrixBody.fcN = 0;
          updateMatrix();
        "
      >
        high
      </td>
      <td
        [class.on]="criteriaMatrixBody.fcM"
        (click)="
          criteriaMatrixBody.fcH = 0;
          criteriaMatrixBody.fcM = 1;
          criteriaMatrixBody.fcL = 0;
          criteriaMatrixBody.fcN = 0;
          updateMatrix();
        "
      >
        medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.fcL"
        (click)="
          criteriaMatrixBody.fcH = 0;
          criteriaMatrixBody.fcM = 0;
          criteriaMatrixBody.fcL = 1;
          criteriaMatrixBody.fcN = 0;
          updateMatrix();
        "
      >
        low
      </td>
      <td
        [class.on]="criteriaMatrixBody.fcN"
        (click)="
          criteriaMatrixBody.fcH = 0;
          criteriaMatrixBody.fcM = 0;
          criteriaMatrixBody.fcL = 0;
          criteriaMatrixBody.fcN = 1;
          updateMatrix();
        "
      >
        none
      </td>
    </tr>
    <tr>
      <td> <strong>Level of product variant</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.lvH"
        (click)="
          criteriaMatrixBody.lvH = 1;
          criteriaMatrixBody.lvM = 0;
          criteriaMatrixBody.lvL = 0;
          criteriaMatrixBody.lvN = 0;
          updateMatrix();
        "
      >
        high
      </td>
      <td
        [class.on]="criteriaMatrixBody.lvM"
        (click)="
          criteriaMatrixBody.lvH = 0;
          criteriaMatrixBody.lvM = 1;
          criteriaMatrixBody.lvL = 0;
          criteriaMatrixBody.lvN = 0;
          updateMatrix();
        "
      >
        medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.lvL"
        (click)="
          criteriaMatrixBody.lvH = 0;
          criteriaMatrixBody.lvM = 0;
          criteriaMatrixBody.lvL = 1;
          criteriaMatrixBody.lvN = 0;
          updateMatrix();
        "
      >
        low
      </td>
      <td
        [class.on]="criteriaMatrixBody.lvN"
        (click)="
          criteriaMatrixBody.lvH = 0;
          criteriaMatrixBody.lvM = 0;
          criteriaMatrixBody.lvL = 0;
          criteriaMatrixBody.lvN = 1;
          updateMatrix();
        "
      >
        none
      </td>
    </tr>
    <tr>
      <td> <strong>Re-utilization of data</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.rdH"
        (click)="
          criteriaMatrixBody.rdH = 1;
          criteriaMatrixBody.rdM = 0;
          criteriaMatrixBody.rdL = 0;
          criteriaMatrixBody.rdN = 0;
          updateMatrix();
        "
      >
        high
      </td>
      <td
        [class.on]="criteriaMatrixBody.rdM"
        (click)="
          criteriaMatrixBody.rdH = 0;
          criteriaMatrixBody.rdM = 1;
          criteriaMatrixBody.rdL = 0;
          criteriaMatrixBody.rdN = 0;
          updateMatrix();
        "
      >
        medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.rdL"
        (click)="
          criteriaMatrixBody.rdH = 0;
          criteriaMatrixBody.rdM = 0;
          criteriaMatrixBody.rdL = 1;
          criteriaMatrixBody.rdN = 0;
          updateMatrix();
        "
      >
        low
      </td>
      <td
        [class.on]="criteriaMatrixBody.rdN"
        (click)="
          criteriaMatrixBody.rdH = 0;
          criteriaMatrixBody.rdM = 0;
          criteriaMatrixBody.rdL = 0;
          criteriaMatrixBody.rdN = 1;
          updateMatrix();
        "
      >
        none
      </td>
    </tr>
    <tr>
      <td> <strong>Amount of process data</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.adL"
        (click)="
          criteriaMatrixBody.adL = 1;
          criteriaMatrixBody.adA = 0;
          criteriaMatrixBody.adS = 0;
          criteriaMatrixBody.adN = 0;
          updateMatrix();
        "
      >
        large
      </td>
      <td
        [class.on]="criteriaMatrixBody.adA"
        (click)="
          criteriaMatrixBody.adL = 0;
          criteriaMatrixBody.adA = 1;
          criteriaMatrixBody.adS = 0;
          criteriaMatrixBody.adN = 0;
          updateMatrix();
        "
      >
        average
      </td>
      <td
        [class.on]="criteriaMatrixBody.adS"
        (click)="
          criteriaMatrixBody.adL = 0;
          criteriaMatrixBody.adA = 0;
          criteriaMatrixBody.adS = 1;
          criteriaMatrixBody.adN = 0;
          updateMatrix();
        "
      >
        small
      </td>
      <td
        [class.on]="criteriaMatrixBody.adN"
        (click)="
          criteriaMatrixBody.adL = 0;
          criteriaMatrixBody.adA = 0;
          criteriaMatrixBody.adS = 0;
          criteriaMatrixBody.adN = 1;
          updateMatrix();
        "
      >
        none
      </td>
    </tr>
    <tr>
      <td> <strong>Amount of input source</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.asL"
        (click)="
          criteriaMatrixBody.asL = 1;
          criteriaMatrixBody.asA = 0;
          criteriaMatrixBody.asS = 0;
          criteriaMatrixBody.asN = 0;
          updateMatrix();
        "
      >
        large
      </td>
      <td
        [class.on]="criteriaMatrixBody.asA"
        (click)="
          criteriaMatrixBody.asL = 0;
          criteriaMatrixBody.asA = 1;
          criteriaMatrixBody.asS = 0;
          criteriaMatrixBody.asN = 0;
          updateMatrix();
        "
      >
        average
      </td>
      <td
        [class.on]="criteriaMatrixBody.asS"
        (click)="
          criteriaMatrixBody.asL = 0;
          criteriaMatrixBody.asA = 0;
          criteriaMatrixBody.asS = 1;
          criteriaMatrixBody.asN = 0;
          updateMatrix();
        "
      >
        small
      </td>
      <td
        [class.on]="criteriaMatrixBody.asN"
        (click)="
          criteriaMatrixBody.asL = 0;
          criteriaMatrixBody.asA = 0;
          criteriaMatrixBody.asS = 0;
          criteriaMatrixBody.asN = 1;
          updateMatrix();
        "
      >
        none
      </td>
    </tr>
    <tr>
      <td> <strong>Reaction/Decision Macking time</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.rmN"
        (click)="
          criteriaMatrixBody.rmN = 1;
          criteriaMatrixBody.rmS = 0;
          criteriaMatrixBody.rmM = 0;
          criteriaMatrixBody.rmL = 0;
          updateMatrix();
        "
      >
        none
      </td>
      <td
        [class.on]="criteriaMatrixBody.rmS"
        (click)="
          criteriaMatrixBody.rmN = 0;
          criteriaMatrixBody.rmS = 1;
          criteriaMatrixBody.rmM = 0;
          criteriaMatrixBody.rmL = 0;
          updateMatrix();
        "
      >
        short
      </td>
      <td
        [class.on]="criteriaMatrixBody.rmM"
        (click)="
          criteriaMatrixBody.rmN = 0;
          criteriaMatrixBody.rmS = 0;
          criteriaMatrixBody.rmM = 1;
          criteriaMatrixBody.rmL = 0;
          updateMatrix();
        "
      >
        medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.rmL"
        (click)="
          criteriaMatrixBody.rmN = 0;
          criteriaMatrixBody.rmS = 0;
          criteriaMatrixBody.rmM = 0;
          criteriaMatrixBody.rmL = 1;
          updateMatrix();
        "
      >
        long
      </td>
    </tr>
    <tr>
      <td> <strong>Unforeseen situation</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.usN"
        (click)="
          criteriaMatrixBody.usN = 1;
          criteriaMatrixBody.usOc = 0;
          criteriaMatrixBody.usR = 0;
          criteriaMatrixBody.usOf = 0;
          updateMatrix();
        "
      >
        Never
      </td>
      <td
        [class.on]="criteriaMatrixBody.usOc"
        (click)="
          criteriaMatrixBody.usN = 0;
          criteriaMatrixBody.usOc = 1;
          criteriaMatrixBody.usR = 0;
          criteriaMatrixBody.usOf = 0;
          updateMatrix();
        "
      >
        Ocassionally
      </td>
      <td
        [class.on]="criteriaMatrixBody.usR"
        (click)="
          criteriaMatrixBody.usN = 0;
          criteriaMatrixBody.usOc = 0;
          criteriaMatrixBody.usR = 1;
          criteriaMatrixBody.usOf = 0;
          updateMatrix();
        "
      >
        Rarely
      </td>
      <td
        [class.on]="criteriaMatrixBody.usOf"
        (click)="
          criteriaMatrixBody.usN = 0;
          criteriaMatrixBody.usOc = 0;
          criteriaMatrixBody.usR = 0;
          criteriaMatrixBody.usOf = 1;
          updateMatrix();
        "
      >
        Often
      </td>
    </tr>

    <tr>
      <td></td>
      <td colspan="4"> <strong><-------------------------------------------------------------------------------- Direction of increasing LoA </strong></td>
    </tr>
</tbody>
</table><br>

  <form >
  <fieldset>
    <legend style="width: auto;">Cognitive LoA information</legend>
    <table class="table table-borderless table-responsive">
      <thead>
        <th>Automation posibility</th>
        <th>Current Physical LoA</th>
        <th>Current Cognitive LoA</th>
        <th colspan="2" class="text-center">Best physical LoA range</th>
      </thead>
      <tr>
        <td>
          <label class="switch">
            <input type="checkbox" name="possibility" [(ngModel)]="loaInfoRequest.possibility">
            <span class="slider round"></span>
          </label>
        </td>
        <td>
          <select name="physical-loa" [(ngModel)]="loaInfoRequest.fkTbAcePhyLoa" [disabled]="!loaInfoRequest.possibility" class="selectLoa">
            <option *ngFor="let loa of physicalLoaArray" value="{{loa.pkTbId}}">LoA {{loa.pkTbId}} - {{ loa.loa }}</option>
          </select>
        </td>
        <td>
          <select name="cognitive-loa" [(ngModel)]="loaInfoRequest.fkTbAceCogLoa" [disabled]="!loaInfoRequest.possibility" class="selectLoa">
            <option *ngFor="let loa of cognitiveLoaArray" value="{{loa.pkTbId}}">LoA {{loa.pkTbId}} - {{ loa.loa }}</option>
          </select>
        </td>
        <td>
          <input type="number" name="minBestLoa" #minLoa max="7" min="1" [(ngModel)]="loaInfoRequest.bestRangeMin"
           [disabled]="!loaInfoRequest.possibility" oninput="this.value=(parseInt(this.value)||0)" onkeydown="return false" required>
        </td>
        <td>
          <input type="number" name="maxBestLoa" #maxLoa max="7" min="1" [(ngModel)]="loaInfoRequest.bestRangeMax"
           [disabled]="!loaInfoRequest.possibility" oninput="this.value=(parseInt(this.value)||0)" onkeydown="return false" required>
        </td>
      </tr>
    </table>
  </fieldset>

  <!-- saveModal -->
 <div class="modal fade" id="saveModal" tabindex="-1" role="dialog"  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="saveModalLabel">
          <p class="text-success" *ngIf="opSuc">Successful</p>
          <p class="text-danger" *ngIf="!opSuc">Error</p>
        </h5>
      </div>
      <div class="modal-body">
        <span *ngIf="opSuc">Operation performed.</span>
        <span *ngIf="!opSuc">Operation failed.</span>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>

  <div class="btn-group" style="justify-content: center; width: 100%;">
    <a class="btn btn-outline-primary" routerLink="/hta-analysis">Previous</a>
    <button class="btn btn-secondary" (click)="loaInfoRequest.possibility=false">Cancel</button>
    <button class="btn btn-primary" (click)="saveLoaInfo(minLoa.value, maxLoa.value)"  data-toggle="modal" data-target="#saveModal" >Save</button>
  </div>
</form> 
</div>

